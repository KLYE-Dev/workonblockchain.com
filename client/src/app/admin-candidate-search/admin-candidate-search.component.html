<!--company side candidate listing search page code start here-->

<section class = "main-search">

	<div class="container">
		<div class="row">
			<div class = "col-md-12 text-center">
				<form class="form-inline search-form" #f="ngForm" (ngSubmit)="onSearchName(f)">
					<div class="form-group">
					    <input type="text" class="form-control input_main" placeholder="&#xF002; Search by Name" [(ngModel)]='searchWord' name="word" required id="search">
					 </div>
					 <div class="form-group">
					    <button type="submit" class="btn btn-filter btn-md btn_main-srh" value = "search" [disabled]="!f.valid " >
					    	<i class="fa fa-search" aria-hidden="true"></i> Search</button>
					 </div>
				</form>
			</div>
		</div>
	</div>

	<div class="container">
		<div class="row">

			<div class="col-md-3">
			<form #reset_form="ngForm">
				<div class = "wizard-form mr-top-form filter_bar" id = "side_bar">
					<ul>
						<li> 
							<div class = "form-group">

                				<select2  [data]="rolesData" [options]="options"  [width]="500" [value]="select_value" (valueChanged)="messagetag_changed($event)">
								
								
								</select2>
								<input type="text" [(ngModel)]="msgtags" name="msg_tags" style="display: none;">
					
							</div>
	
						</li>

						<li>
							<div class = "form-group">
							  
	  							
	  							<select class="form-control " name="approve" [(ngModel)]="approve" (ngModelChange)="search_approved( $event)" >
									 
									  <option value="-1" disabled selected hidden >Active/Inactive</option>
									  <option class='option' *ngFor='let options of admin_check'  [value]="options.name" selected>{{options.value}}</option>
							    </select>
							</div>
						</li>

						
					</ul>
				</div>
				<div class = "text-right btn-div">
					<!-- <button type = "button" class = "btn btn-filter"> Filter </button> 
					<button type = "reset" class = "btn reset-bttn"> Reset </button>-->
					<a  (click)="reset()" class = "btn reset-bttn"> Reset</a>
					
				</div>
				</form>
			</div>
			<!--end-col-md-3-->
			<div class="col-md-9">

				<div class = "result-status mr-top-form" *ngIf="length > 0">
						<span>{{length}}</span> Candidate Match your search....
						<i class="fa fa-check tickk" aria-hidden="true"></i>
				</div>
				<div class = "result-status mr-top-form" *ngIf="log !== ''">
						<span>{{log}}</span> 
						<i class="fa fa-check tickk" aria-hidden="true"></i>
				</div>

				<!--candidate 1st-->
				<div *ngIf="info" >
				
				<div class="panel-group mr-top-form" *ngFor= "let data of info | paginate: { itemsPerPage:10, currentPage: p }">
 								      
				   <div class="panel panel-default">
<!-- 				    <div class="panel panel-default">
 -->				      <div class="panel-heading">
				      	<div class = "user-pic" *ngIf="!data.image">
				      		<img src = "/assets/profile/profile-image.png" alt = "candidate_pic">
				      		<!--  <img src = "/assets/profile/profile-image.png" alt = "candidate_pic" *ngIf="!data.image">
				      		<img  [attr.src]="'/var/www/html/workonblockchain/server/uploads/' + data.image" alt = "candidate_pic" *ngIf="data.image">
				      		-->
				      	</div>
				      	<div class = "user-pic" *ngIf="data.image">
				      		<img src = "{{data.image}}" alt = "candidate_pic">
				      		<!--  <img src = "/assets/profile/profile-image.png" alt = "candidate_pic" *ngIf="!data.image">
				      		<img  [attr.src]="'/var/www/html/workonblockchain/server/uploads/' + data.image" alt = "candidate_pic" *ngIf="data.image">
				      		-->
				      	</div>

				      	<div class = "user-detail">
					      	<a [routerLink]="['/admin-candidate-detail']" [queryParams]="{user: data._creator._id }"><h2>{{data.first_name}}</h2></a><br/>
					      	<span class="label label-war" *ngFor= "let roles of data.roles">{{roles}}</span>	
					    </div>

						<div class = "ofr_btn">
												
						<form #approve_form="ngForm" >
								<input type="hidden" name="type"  [ngModel]="data._creator.type">
								<input type="hidden" name="email"  [ngModel]="data._creator.email">
								<input type="hidden" name="name"  [ngModel]="data.first_name">
								<input type="hidden" name="is_verify" [ngModel]="data._creator.is_verify">
								<input type="hidden" name="id" [ngModel]="data._creator._id">
								<input type= "hidden" *ngIf='(data._creator.is_verify ===1 && data._creator.is_approved === 0)' name="is_approve" [ngModel]="1">
								<input type= "hidden" *ngIf='(data._creator.is_verify ===1 && data._creator.is_approved === 1)' name="is_approve" [ngModel]="0">
								
								<div class="submit-button">						
									<button type="submit" (click) = "approveClick($event , approve_form)"  class = "btn btn_descp" *ngIf = "(data._creator.is_verify ===1 && data._creator.is_approved === 0)" >Active</button>
									<button type="submit" (click) = "approveClick($event , approve_form)" class = "btn btn_descp" *ngIf = "(data._creator.is_verify ===1 && data._creator.is_approved === 1)" >Inactive</button>
									<button type="submit" class = "btn btn_descp" *ngIf = "data._creator.is_verify ===0" disabled>Active</button>
									
								</div>
							</form>
						</div>
				      </div>

				      <div class="panel-body">
						
				      	<span class = "why_join col-md-12"><i>{{data.why_work}}</i> </span>

				      		<div class="col-sm-8">
				      			<h4>Bio</h4>
				      			<p>
								{{data.description}}
				      			</p>
				      		</div>
				      		<div class="col-sm-4">
				      			<h4>Languages</h4>
				      			<ul>
				      				<li *ngFor = 'let lang of data.programming_languages'> {{lang.language}} &nbsp;&nbsp; &nbsp;&nbsp;   {{lang.exp_year}} Year Experience </li>
				      			</ul>
				      		</div>
				      </div>

				    </div>

				</div>
				</div>
				<!--end candidate-->

				
				<pagination-controls (pageChange)="p = $event" *ngIf="page > 10"></pagination-controls>
					<!-- <ul class="pagination">
					  <li class="active"><a href="#">1</a></li>
					  <li><a href="#">2</a></li>
					  <li><a href="#">3</a></li>
					  <li><a href="#">4</a></li>
					  <li><a href="#">5</a></li>
					  <li><a href="#">Next</a></li>
					</ul> -->

			</div>
			<!--end-md-9-col-->

		</div> <!--row end-->
	</div> <!--container end-->
	
</section>

<!--Code End here-->

<div class = "gap">
</div>

